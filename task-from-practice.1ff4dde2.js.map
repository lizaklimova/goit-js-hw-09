{"mappings":"AAoBA,MAEMA,EACG,gBADHA,EAEM,SAGNC,EAAUC,SAASC,cAAc,eACjCC,EAASF,SAASC,cAAc,sBAkCtC,SAASE,EAAkBC,EAAMC,GAC/B,IAAID,EAAKE,UAAUC,SAAQC,IACQ,WAA7BA,EAAGC,QAAQC,gBACbF,EAAGG,SAAWN,EAAK,G,CAnCzBN,EAAQa,iBAAiB,UAEzB,SAAyBC,GACvBA,EAAMC,iBAEN,MAAMC,EAAMC,OAAOC,YAAY,IAAIC,SAASL,EAAMM,gBAEvB,WAAvBjB,EAAOkB,aAqBKC,EAtCH,YAuCbC,aAAaC,WAAWF,GApBtBnB,EAAOkB,YAAc,QACrBP,EAAMM,cAAcK,QACpBrB,EAAkBJ,GAAS,IAE3BD,IAAoBiB,EAAIU,OACxB3B,IAAuBiB,EAAIW,UAUhBC,EARLZ,EASRO,aAAaM,QAnCA,YAmCgBC,KAAKC,UAAUH,IAR1CzB,EAAOkB,YAAc,SACrBjB,EAAkBJ,GAAS,IAE3BgC,MAAM,mCAIV,IAAeJ,EAIf,IAAkBN,C","sources":["src/js/task-from-practise.js"],"sourcesContent":["//\n//~   Якщо імейл і пароль користувача збігаються, при сабмите зберігай дані з форми\n//~   у локальне сховище і змінюй кнопку login на logout і роби поля введення\n//~   Недоступними для зміни.\n//\n// ~  При перезавантаженні сторінки, якщо користувач залогінений, ми повинні бачити logout-кнопку\n//~   та недоступні для зміни поля з даними користувача.\n//~   Клік по кнопці logout повертає все в початковий вигляд і видаляє дані користувача\n//~   З локального сховища.\n//\n//~   Якщо введені дані не збігаються з потрібними даними, викликати аlert і\n//~   повідомляти про помилку.\n//\n//       <form id=\"login-form\">\n//         <input type=\"email\" name=\"email\" />\n//         <input type=\"password\" name=\"password\" />\n//         <button name=\"button\" type=\"submit\">Login</button>\n//     </form>\n//\n\nconst KEY_LC = 'user-data';\n\nconst USER_DATA = {\n  email: 'user@mail.com',\n  password: 'secret',\n};\n\nconst formRef = document.querySelector('#login-form');\nconst btnRef = document.querySelector('#login-form button');\n\nformRef.addEventListener('submit', onSubmitHandler);\n\nfunction onSubmitHandler(event) {\n  event.preventDefault();\n\n  const obj = Object.fromEntries(new FormData(event.currentTarget));\n\n  if (btnRef.textContent === 'Logout') {\n    removeLC(KEY_LC);\n    btnRef.textContent = 'Login';\n    event.currentTarget.reset();\n    disableFormInputs(formRef, false);\n  } else if (\n    USER_DATA.email === obj.email &&\n    USER_DATA.password === obj.password\n  ) {\n    setLC(obj);\n    btnRef.textContent = 'Logout';\n    disableFormInputs(formRef, !false);\n  } else {\n    alert('error! wrong password or email!');\n  }\n}\n\nfunction setLC(data) {\n  localStorage.setItem(KEY_LC, JSON.stringify(data));\n}\n\nfunction removeLC(key) {\n  localStorage.removeItem(key);\n}\n\nfunction disableFormInputs(form, value) {\n  [...form.elements].forEach(el => {\n    if (el.tagName.toUpperCase() !== 'BUTTON') {\n      el.disabled = value;\n    }\n  });\n}\n"],"names":["$6fbaa5337fa4accf$var$USER_DATA","$6fbaa5337fa4accf$var$formRef","document","querySelector","$6fbaa5337fa4accf$var$btnRef","$6fbaa5337fa4accf$var$disableFormInputs","form","value","elements","forEach","el","tagName","toUpperCase","disabled","addEventListener","event","preventDefault","obj","Object","fromEntries","FormData","currentTarget","textContent","key","localStorage","removeItem","reset","email","password","data","setItem","JSON","stringify","alert"],"version":3,"file":"task-from-practice.1ff4dde2.js.map"}