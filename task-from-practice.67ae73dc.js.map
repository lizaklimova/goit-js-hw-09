{"mappings":"AAoBA,MAEMA,EACG,gBADHA,EAEM,SAGNC,EAAUC,SAASC,cAAc,eACjCC,EAASF,SAASC,cAAc,sBAEtCF,EAAQI,iBAAiB,UAEzB,SAAyBC,GACvBA,EAAMC,iBAEN,MAAMC,EAAMC,OAAOC,YAAY,IAAIC,SAASL,EAAMM,gBAEvB,WAAvBR,EAAOS,aAqBKC,EAtCH,YAuCbC,aAAaC,WAAWF,GApBtBV,EAAOS,YAAc,QACrBP,EAAMM,cAAcK,QA+BtB,IA9BmBhB,EA8BViB,UAAUC,SAAQC,IACQ,WAA7BA,EAAGC,QAAQC,gBACbF,EAAGG,UAAW,EAAK,KA9BrBvB,IAAoBQ,EAAIgB,OACxBxB,IAAuBQ,EAAIiB,UAUhBC,EARLlB,EASRO,aAAaY,QAnCA,YAmCgBC,KAAKC,UAAUH,IAR1CtB,EAAOS,YAAc,SAezB,SAA2BiB,GACzB,IAAIA,EAAKZ,UAAUC,SAAQC,IACQ,WAA7BA,EAAGC,QAAQC,gBACbF,EAAGG,UAAW,EAAI,G,CAjBpBQ,CAAkB9B,IAElB+B,MAAM,mCAIV,IAAeN,EAIf,IAAkBZ,C","sources":["src/js/task-from-practise.js"],"sourcesContent":["//\n//~   Якщо імейл і пароль користувача збігаються, при сабмите зберігай дані з форми\n//~   у локальне сховище і змінюй кнопку login на logout і роби поля введення\n//~   Недоступними для зміни.\n//\n// ~  При перезавантаженні сторінки, якщо користувач залогінений, ми повинні бачити logout-кнопку\n//~   та недоступні для зміни поля з даними користувача.\n//~   Клік по кнопці logout повертає все в початковий вигляд і видаляє дані користувача\n//~   З локального сховища.\n//\n//~   Якщо введені дані не збігаються з потрібними даними, викликати аlert і\n//~   повідомляти про помилку.\n//\n//       <form id=\"login-form\">\n//         <input type=\"email\" name=\"email\" />\n//         <input type=\"password\" name=\"password\" />\n//         <button name=\"button\" type=\"submit\">Login</button>\n//     </form>\n//\n\nconst KEY_LC = 'user-data';\n\nconst USER_DATA = {\n  email: 'user@mail.com',\n  password: 'secret',\n};\n\nconst formRef = document.querySelector('#login-form');\nconst btnRef = document.querySelector('#login-form button');\n\nformRef.addEventListener('submit', onSubmitHandler);\n\nfunction onSubmitHandler(event) {\n  event.preventDefault();\n\n  const obj = Object.fromEntries(new FormData(event.currentTarget));\n\n  if (btnRef.textContent === 'Logout') {\n    removeLC(KEY_LC);\n    btnRef.textContent = 'Login';\n    event.currentTarget.reset();\n    enableFormInputs(formRef);\n  } else if (\n    USER_DATA.email === obj.email &&\n    USER_DATA.password === obj.password\n  ) {\n    setLC(obj);\n    btnRef.textContent = 'Logout';\n    disableFormInputs(formRef);\n  } else {\n    alert('error! wrong password or email!');\n  }\n}\n\nfunction setLC(data) {\n  localStorage.setItem(KEY_LC, JSON.stringify(data));\n}\n\nfunction removeLC(key) {\n  localStorage.removeItem(key);\n}\n\nfunction disableFormInputs(form) {\n  [...form.elements].forEach(el => {\n    if (el.tagName.toUpperCase() !== 'BUTTON') {\n      el.disabled = true;\n    }\n  });\n}\n\nfunction enableFormInputs(form) {\n  [...form.elements].forEach(el => {\n    if (el.tagName.toUpperCase() !== 'BUTTON') {\n      el.disabled = false;\n    }\n  });\n}\n"],"names":["$6fbaa5337fa4accf$var$USER_DATA","$6fbaa5337fa4accf$var$formRef","document","querySelector","$6fbaa5337fa4accf$var$btnRef","addEventListener","event","preventDefault","obj","Object","fromEntries","FormData","currentTarget","textContent","key","localStorage","removeItem","reset","elements","forEach","el","tagName","toUpperCase","disabled","email","password","data","setItem","JSON","stringify","form","$6fbaa5337fa4accf$var$disableFormInputs","alert"],"version":3,"file":"task-from-practice.67ae73dc.js.map"}